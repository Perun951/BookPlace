{% extends 'core/base.html' %}

{% block title %}
Magazinul meu
{% endblock %}

{% block content %}

<div class="card mx-auto rounded-4 shadow p-3 mb-5 bg-white rounded border-0" style="background-color: white; width: 95%; height: 90%; margin-bottom: 5%;  margin-top: 80px; ">
    <h5 class="card-title mx-auto" style="margin-top: 50px;"><font size="16">Magazinul meu</font></h5>
    <a href="{% url 'add_product' %}" class="text-light mx-auto" style="text-decoration: none;">
        <button class="btn btn-success mx-auto" type="button" style="width: 150px; height: 100%; margin-top: 8px;">
            <h5>Adauga carte</h5>
        </button>
    </a>
    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-success mx-auto" role="alert" style="height: 10%; width: 300px;margin-top: 14px;">
                <span class="d-flex p-2 justify-content-center">{{ message }}</span>
            </div>
        {% endfor %}
    {% endif %}
    <p class="card-title mx-auto" style="margin-top: 60px;margin-bottom: 60px;"><font size="6">Cartile mele:</font></p>
    {% if products %}
        <div class="d-flex  align-items-center">
            <div class="d-flex justify-content-center flex-row flex-wrap gap-4  " style="margin-bottom: 5%;margin-left: 2%;margin-right: 2%;">
                {% for product in products %}
                <div  style="margin-top: -50px;" align="center"> 
                    <div class="card shadow p-3 mb-5 bg-white rounded border-0 rounded-4" style="max-width: 300px ;min-width: 300px; min-height: 500px;max-height: 500px;" >
                        <a href="{% url 'edit_product' product.id %}">
                            <div class="image p-1">  
                                <img class="rounded-4" id="corner" src="{% if product.image %} {{product.image.url}} {% else %} ../../../../../media/photo_2023-02-08_13-03-17.jpg {% endif %}" width="250px" height="250px" alt="Image of {{ product.title }}">
                            </div>
                        </a>
                        <div class="card-body " style="background-color: white;">  
                                <a href="{% url 'edit_product' product.id %}" style="color: black; text-decoration: none;">                                                           
                                    <p class="card-text " align="center"><p><strong>{{ product.title }}</strong></p>
                                </a>
                                <p class="card-text text-success" align="right">{{product.author}}</p>

                        </div>
                        <div class="card-footer rounded-bottom">
                            <p><strong>Status: {{ product.get_status_display }}</strong></p>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    {% else %}
        <p class="card-title text-danger" style="margin-top: 10px;align-self: center;"><font size="6">Nu ai incarcat carti pana acum!</font></p>
    {% endif %}
</div>
{% endblock %}
